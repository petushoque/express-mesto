{"version":3,"sources":["images/logo-mesto.svg","components/Header.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","loc","useLocation","className","to","src","logo","alt","isLoggedIn","localStorage","getItem","pathname","onClick","onLogout","api","token","groupId","this","baseUrl","_token","_groupId","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkResponse","picture","method","body","JSON","stringify","avatar","username","name","about","text","url","link","id","CurrentUserContext","createContext","Card","user","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","type","onCardLike","length","onCardDelete","Main","onEditAvatar","style","backgroundImage","onEditProfile","onAddPlace","cards","map","card","hanldeCardLike","handleCardDelete","Footer","currentYear","Date","getFullYear","PopupWithForm","popupName","title","isOpen","closePopup","onClose","onSubmit","children","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","currentUser","useEffect","e","preventDefault","onUpdateUser","placeholder","value","onChange","target","required","minLength","maxLength","EditAvatarPopup","avatarLink","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","InfoTooltip","isSuccess","ProtectedRoute","Component","component","loggedIn","Login","email","setEmail","password","setPassword","onLogin","Register","onRegister","BASE_URL","checkResponse","statusText","App","cohort","setCurrentUser","setLoggedIn","history","useHistory","jwt","catch","err","console","log","tokenCheck","push","getUserInfo","result","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePostPopupOpen","setIsDeletePostPopup","isLoginStatusPopupOpen","setIsLoginStatusPopupOpen","selectedCard","setSelectedCard","isSuccessfulRegistration","setIsSuccessfulRegistration","setCards","closeAllPopups","getCards","data","item","Provider","setItem","exact","path","deleteCard","filter","c","deleteLikePost","newCard","putLikePost","auth","postNewCard","patchProfileInfo","patchProfileAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.65c7e52f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-mesto.03b78ada.svg\";","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport logo from '../images/logo-mesto.svg';\r\n\r\nfunction Header (props) {\r\n\r\n    const loc = useLocation()\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <Link to=\"/\"><img className=\"header__logo\" src={logo} alt=\"Логотип сайта\" /></Link>\r\n            <div className=\"header__auth\">\r\n                {props.isLoggedIn ? \r\n                (<p className=\"header__auth-item header__auth-item_email\">{localStorage.getItem('email')}</p>) : \r\n                null} \r\n                {loc.pathname==='/' &&\r\n                <p \r\n                    className=\"header__auth-item header__auth-item_logout\" \r\n                    onClick={() => props.onLogout()}>\r\n                        Выйти\r\n                </p>\r\n                }            \r\n                {loc.pathname===\"/sign-in\" &&\r\n                <Link to=\"/sign-up\" className=\"header__auth-item header__auth-item_login\">\r\n                        Регистрация\r\n                </Link>\r\n                }    \r\n                {loc.pathname===\"/sign-up\" &&\r\n                <Link to=\"/sign-in\" className=\"header__auth-item header__auth-item_login\">\r\n                        Войти\r\n                </Link>\r\n                }      \r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","class Api {\r\n    constructor(token, groupId){\r\n        this.baseUrl = 'https://mesto.nomoreparties.co/v1'\r\n        this._token = token;\r\n        this._groupId = groupId\r\n    }\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      } \r\n    getCards(){\r\n        return fetch(`${this.baseUrl}/${this._groupId}/cards`, {\r\n            headers: {\r\n            authorization: this._token\r\n            }\r\n        })        \r\n        .then(this._checkResponse)\r\n    }\r\n    getUserInfo(){\r\n        return fetch(`${this.baseUrl}/${this._groupId}/users/me`, {\r\n            headers: {\r\n            authorization: this._token\r\n            }\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n    patchProfileAvatar(picture){\r\n        return fetch(`${this.baseUrl}/${this._groupId}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            avatar: picture\r\n        })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n    patchProfileInfo(username, status){\r\n        return fetch(`${this.baseUrl}/${this._groupId}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            name: username,\r\n            about: status\r\n        })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n    postNewCard(text, url) {\r\n        return fetch(`${this.baseUrl}/${this._groupId}/cards `, {\r\n        method: 'POST',\r\n        headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            name: text,\r\n            link: url\r\n        })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n    deleteCard(id) {        \r\n        return fetch(`${this.baseUrl}/${this._groupId}/cards/${id}/`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n        authorization: this._token\r\n        }\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n    putLikePost(id) {\r\n        return fetch(`${this.baseUrl}/${this._groupId}/cards/likes/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n        authorization: this._token\r\n        }\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n    deleteLikePost(id) {\r\n        return fetch(`${this.baseUrl}/${this._groupId}/cards/likes/${id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n        authorization: this._token\r\n        }\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n}\r\n\r\nconst api = new Api ('57e386f4-1a89-4d89-a10b-b49e88b17870', 'cohort-21'); \r\n\r\nexport default api","import { React, createContext} from 'react';\r\n\r\nconst CurrentUserContext = createContext();\r\n\r\nexport default CurrentUserContext;","import { React, useContext} from 'react'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nfunction Card (props) {\r\n  const user = useContext(CurrentUserContext)\r\n\r\n  const isOwn = (props.owner === user._id);\r\n  const cardDeleteButtonClassName = (`${isOwn ? 'card__delete' : 'card__delete_hidden'}`);\r\n\r\n  const isLiked = props.likes.some(i => i._id === user._id);\r\n  const cardLikeButtonClassName = `card__like ${isLiked && 'card__like_active'}`; \r\n\r\n  function handleClick() {\r\n    props.onCardClick(props);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props)\r\n  }\r\n\r\n    return(\r\n      \r\n        <article className=\"card\">\r\n          <img className=\"card__picture\" src={props.link} alt={props.name} onClick={() => handleClick()}/>\r\n          <div className=\"card__info\">\r\n            <h2 className=\"card__signature\">{props.name}</h2>\r\n            <div className=\"card__like-section\">\r\n              <button className={cardLikeButtonClassName} type=\"button\" onClick={() => handleLikeClick()}></button>\r\n              <p className=\"card__like-counter\">{props.likes.length}</p>\r\n            </div>\r\n          </div>\r\n          <button className={cardDeleteButtonClassName} type=\"button\" onClick={() => handleDeleteClick()}>\r\n          </button>\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default Card;","import { React, useState, useEffect, useContext } from 'react'\r\nimport api from '../utils/api'\r\nimport Card from './Card'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main (props) {\r\n\r\n    const user = useContext(CurrentUserContext)\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${user.avatar})` }} ></div>  \r\n                <div className=\"profile__user\">      \r\n                    <h1 className=\"profile__name\">{user.name}</h1>\r\n                    <button className=\"profile__edit-button\" onClick={props.onEditProfile} type=\"button\"></button>\r\n                </div>\r\n                <p className=\"profile__status\">{user.about}</p>\r\n                <button className=\"profile__add-button\" onClick={props.onAddPlace} type=\"button\"></button>\r\n            </section>\r\n\r\n            <section className=\"elements\">\r\n                {props.cards.map(card => (<Card \r\n                                        key={card.id} \r\n                                        {...card} \r\n                                        onCardClick={props.onCardClick} \r\n                                        onCardLike={props.hanldeCardLike}\r\n                                        onCardDelete={props.handleCardDelete}/>))}\r\n            </section>\r\n\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main","import React from 'react';\r\n\r\nfunction Footer () {\r\n    const currentYear = new Date().getFullYear();\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&#169; {currentYear} Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react';\r\n\r\nfunction PopupWithForm (props) {\r\n    const popupName = props.name;\r\n    const title = props.title;\r\n    const isOpen = props.isOpen;\r\n    const closePopup = props.onClose;\r\n    return (\r\n        <section className={isOpen ? `popup popup_type_${popupName} popup_active` : `popup popup_type_${popupName}`}>\r\n            <div className=\"popup__container\">\r\n                <h2 className=\"popup__title\">{title}</h2>\r\n                <form name={popupName} onSubmit={props.onSubmit}>\r\n                    {props.children}\r\n                <button className=\"popup__save-button popup__save-button_active\" type=\"submit\">Сохранить</button>\r\n                </form>                \r\n                <button className={`popup__close-button popup__close-button_type_${popupName}`} onClick={closePopup} type=\"button\"></button>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm\r\n","import React from 'react';\r\n\r\nfunction ImagePopup (props) {\r\n    const closePopup = props.onClose;\r\n    const card = props.card;\r\n    return(\r\n        <section className={card ? `popup popup_type_image popup_active` : `popup popup_type_image`}>\r\n                <div className=\"popup__image-container\">\r\n                <img className=\"popup__big-image\" src={card?.link} alt={card?.name} />\r\n                <button className=\"popup__close-button popup__close-button_type_image\" onClick={closePopup} type=\"button\"></button>\r\n                <p className=\"popup__big-image-signature\">{card ? card.name : \"\"}</p>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","import { React, useState, useEffect, useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nexport default function EditProfilePopup (props) {\r\n    const [name, setName] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser(name, description);\r\n    } \r\n    \r\n    return (\r\n        <PopupWithForm \r\n            name='edit-profile' \r\n            title='Редактировать профиль' \r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}>\r\n            <input \r\n                className=\"popup__input popup__input_textarea_name\" \r\n                id=\"input-name\" \r\n                name=\"username\" \r\n                type=\"text\" \r\n                placeholder=\"Введите имя\"\r\n                value={name || ''}\r\n                onChange={(e) => setName(e.target.value)}\r\n                required minLength=\"2\" \r\n                maxLength=\"40\" />\r\n            <span className=\"popup__input-error input-name-error\"></span>\r\n            <input \r\n                className=\"popup__input popup__input_textarea_status\" \r\n                id=\"input-status\" \r\n                name=\"status\" \r\n                type=\"text\" \r\n                placeholder=\"Введите статус\"\r\n                value={description || ''}\r\n                onChange={(e) => setDescription(e.target.value)} \r\n                required minLength=\"2\" \r\n                maxLength=\"200\" />\r\n            <span className=\"popup__input-error input-status-error\"></span>\r\n        </PopupWithForm> \r\n    )\r\n}","import { React, useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function EditAvatarPopup (props) {\r\n\r\n    const avatarLink = useRef()\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();      \r\n        props.onUpdateAvatar(avatarLink.current.value);\r\n      } \r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='edit-avatar' \r\n            title='Обновить аватар' \r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}>\r\n            <input \r\n                className=\"popup__input popup__input_textarea_avatar\" \r\n                id=\"input-avatar\" \r\n                name=\"avatar\" \r\n                type=\"url\" \r\n                placeholder=\"Ссылка на картинку\" \r\n                ref={avatarLink}\r\n                required />\r\n            <span className=\"popup__input-error input-avatar-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}","import { React, useState, useEffect, useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nexport default function AddPlacePopup (props) {\r\n    const [description, setDescription] = useState('')\r\n    const [link, setLink] = useState('')\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace(description, link);\r\n        setDescription('');\r\n        setLink('')\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm \r\n            name='add-post' \r\n            title='Новое место' \r\n            isOpen={props.isOpen} \r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}>\r\n            <input \r\n                onChange={(e) => setDescription(e.target.value)}\r\n                value={description || ''}\r\n                className=\"popup__input popup__input_textarea_signature\" \r\n                id=\"input-signature\" \r\n                name=\"signature\" \r\n                type=\"text\" \r\n                placeholder=\"Название\" \r\n                required \r\n                minLength=\"2\" \r\n                maxLength=\"30\"/>\r\n            <span className=\"popup__input-error input-signature-error\"></span>\r\n            <input \r\n                onChange={(e) => setLink(e.target.value)}\r\n                value={link || ''}\r\n                className=\"popup__input popup__input_textarea_picture\" \r\n                id=\"input-picture\" \r\n                name=\"picture\" \r\n                type=\"url\" \r\n                placeholder=\"Ссылка на картинку\" \r\n                required />\r\n            <span className=\"popup__input-error input-picture-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n\r\n}","export default function InfoTooltip(props) {\r\n    const isOpen = props.isOpen;\r\n    return (\r\n        <section className={isOpen ? `popup popup_type_register popup_active` : `popup popup_type_register`}>\r\n            <div className=\"popup__container\">\r\n                <div className={`popup__register-status ${props.isSuccess ? 'popup__register-status_good' : 'popup__register-status_bad'}`}>\r\n                </div>\r\n                <h2 className=\"popup__title popup__title_register\">{props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</h2>          \r\n                <button className={`popup__close-button`} onClick={() => props.onClose()} type=\"button\"></button>\r\n            </div>\r\n        </section>\r\n    )\r\n}","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute ({ component: Component, ...props  }) {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./login\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","import React from 'react'\r\nimport { useState } from 'react'\r\n\r\nexport default function Login (props) {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    function handleSubmit (e) {\r\n        e.preventDefault();\r\n        props.onLogin(email, password)\r\n    }\r\n\r\n    return (\r\n            <form className='authorization' onSubmit={handleSubmit}>\r\n                <h2 className='authorization__title'>Вход</h2>\r\n                <input \r\n                    className='authorization__input'\r\n                    id='login-email'\r\n                    placeholder='Email'\r\n                    required\r\n                    type='email' \r\n                    onChange={e => setEmail(e.target.value)}\r\n                    value={email || ''}  \r\n                />\r\n                <input \r\n                    className='authorization__input'\r\n                    id='login-password'\r\n                    placeholder='Пароль'\r\n                    required\r\n                    type='password'   \r\n                    onChange={e => setPassword(e.target.value)}\r\n                    value={password || ''}\r\n                />\r\n                <button\r\n                    className='authorization__submit-button authorization__submit-button_login' \r\n                    type='submit'>\r\n                        Войти\r\n                </button>\r\n            </form>\r\n    )\r\n}","import React from 'react'\r\nimport { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Register (props) {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    function handleSubmit (e) {\r\n        e.preventDefault();\r\n        props.onRegister(email, password)\r\n    }\r\n\r\n    return (\r\n            <form className='authorization'\r\n            onSubmit={handleSubmit}>\r\n                <h2 className='authorization__title'>Регистрация</h2>\r\n                <input \r\n                    className='authorization__input'\r\n                    id='registration-email'\r\n                    placeholder='Email'\r\n                    required\r\n                    type='email'   \r\n                    onChange={e => setEmail(e.target.value)}\r\n                    value={email || ''}\r\n                />\r\n                <input \r\n                    className='authorization__input'\r\n                    id='registration-password'\r\n                    placeholder='Пароль'\r\n                    required\r\n                    type='password'   \r\n                    onChange={e => setPassword(e.target.value)}\r\n                    value={password || ''}\r\n                />\r\n                <button\r\n                    className='authorization__submit-button authorization__submit-button_login' \r\n                    type='submit'>\r\n                        Зарегистрироваться\r\n                </button>\r\n                <p className='authorization__notice'>\r\n                    Уже зарегистрированы? <Link className='authorization__link' to='/login'>Войти</Link>\r\n                </p>\r\n            </form>\r\n    )\r\n}","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nfunction checkResponse (res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка ${res.status}: ${res.statusText}`);\r\n}\r\n\r\nexport function register (email, password) {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email\r\n    })\r\n  })\r\n  .then(res => checkResponse(res))\r\n}\r\n\r\nexport function authorize (email, password) {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'POST',\r\n    body: JSON.stringify({\r\n      password: password,\r\n      email: email\r\n    })\r\n  })\r\n  .then(res => checkResponse(res))\r\n}\r\n\r\nexport function checkToken (token) {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        \"Authorization\" : `Bearer ${token}`\r\n      },\r\n      method: 'GET',\r\n    })\r\n    .then(res => checkResponse(res))\r\n}","import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport InfoTooltip from './InfoTooltip';\n\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login';\nimport Register from './Register';\n\nimport * as auth from '../utils/auth'\nimport api from '../utils/api'\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction App () {\n\n  const [currentUser, setCurrentUser] = useState({\n    about: '',\n    avatar: '',\n    cohort: '',\n    name: '',\n    _id: ','\n  })\n  const [loggedIn, setLoggedIn] = useState(false)\n  const history = useHistory()\n\n  \n  useEffect(() => {\n    tokenCheck()\n  }, [])\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push('/')\n    }\n  }, [loggedIn])\n\n  function tokenCheck () {\n    const jwt = localStorage.getItem('jwt')\n    if (!jwt) {\n      return\n    }\n    auth\n      .checkToken(jwt)\n      .then((res) => {\n        if (res) {\n          setLoggedIn(true)\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n  \n\n  useEffect(() => {\n    api.getUserInfo()\n    .then((result) => {\n        setCurrentUser(result)\n    })\n    .catch((err) => {\n        console.log(err);\n    })\n  }, [])\n  \n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeletePostPopupOpen, setIsDeletePostPopup] = useState(false)\n  const [isLoginStatusPopupOpen, setIsLoginStatusPopupOpen] = useState(false)\n  const [selectedCard, setSelectedCard] = useState(null)\n  const [isSuccessfulRegistration, setIsSuccessfulRegistration] = useState(false)\n  const [cards, setCards] = useState([])\n\n  useEffect(() => {        \n    api.getCards()\n    .then((result) => {\n        const data = result.map((item) => \n            ({\n                id: item._id,\n                name: item.name,\n                link: item.link,\n                owner: item.owner._id,\n                likes: item.likes,\n            })\n        )\n        setCards(data)\n    })\n    .catch((err) => {\n        console.log(err);\n    });    \n  }, [])\n\n  function handleLogin (email, password) {\n    return auth\n    .authorize(email, password)\n    .then((res) => {\n      if (res) {\n        localStorage.setItem('jwt', res.token)\n        localStorage.setItem('email', email)\n        setLoggedIn(true)\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleRegister (email, password) {\n    return auth\n    .register(email, password)\n    .then((res) => {\n      if(res) {\n        setIsSuccessfulRegistration(true)\n        setIsLoginStatusPopupOpen(true)\n        history.push('/sign-in')\n      }}\n    )\n    .catch((err) => {\n      setIsSuccessfulRegistration(false)\n      setIsLoginStatusPopupOpen(true)\n      console.log(err);\n    })\n  }\n\n  function handleLogout () {\n    setLoggedIn(false)\n    localStorage.setItem('jwt', null)\n  }\n\n  function handleEditAvatarClick () {\n    setIsEditAvatarPopupOpen(true)\n  }\n  function handleEditProfileClick () {\n    setIsEditProfilePopupOpen(true)\n  }\n  function handleAddPlaceClick () {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function closeAllPopups () {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false)\n    setIsDeletePostPopup(false)\n    setIsLoginStatusPopupOpen(false)\n    setSelectedCard(null)\n  }\n\n  function handleCardClick (card) {\n    setSelectedCard(card)\n  }\n\n  function handleUpdateUser (name, about) {\n    api.patchProfileInfo(name, about)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n    \n  }\n\n  function handleUpdateAvatar (avatarLink) {\n    api.patchProfileAvatar(avatarLink)\n    .then((res) => {\n      setCurrentUser(res);\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err);\n    });    \n  }\n\n  function handleAddPlace (description, link) {\n    api.postNewCard(description, link)\n    .then((newCard) => {\n      const data = {\n        id: newCard._id,\n        name: newCard.name,\n        link: newCard.link,\n        owner: newCard.owner._id,\n        likes: newCard.likes,\n      }\n      setCards([data, ...cards]);\n      closeAllPopups()\n    })\n    .catch((err) => {\n      console.log(err);\n    });    \n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card.id)\n    .then(() => {\n      setCards((cards) => cards.filter((c) => {return c.id !== card.id}))\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    if (isLiked) {\n        api.deleteLikePost(card.id)\n        .then((newCard) => {\n                const data = {\n                        id: newCard._id,\n                        name: newCard.name,\n                        link: newCard.link,\n                        owner: newCard.owner._id,\n                        likes: newCard.likes,\n                    }\n                setCards((cards) => cards.map((c) => c.id === card.id ? data : c))\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n    }\n    else {\n        api.putLikePost(card.id)\n        .then((newCard) => {\n            const data = {\n                id: newCard._id,\n                name: newCard.name,\n                link: newCard.link,\n                owner: newCard.owner._id,\n                likes: newCard.likes,\n            }\n            setCards((cards) => cards.map((c) => c.id === card.id ? data : c))\n        })\n        .catch((err) => {\n          console.log(err);\n        })    \n    }\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>   \n        <Header \n          isLoggedIn={loggedIn}\n          onLogout={handleLogout}/>\n        <Switch>\n        <ProtectedRoute \n          exact path='/'\n          loggedIn={loggedIn}\n          component={Main}\n          cards={cards}\n          onEditProfile={handleEditProfileClick} \n          onAddPlace={handleAddPlaceClick} \n          onEditAvatar={handleEditAvatarClick} \n          onCardClick={handleCardClick}\n          handleCardDelete={handleCardDelete}\n          hanldeCardLike={handleCardLike}>\n        </ProtectedRoute>\n        <Route path='/sign-in'>\n          <Login onLogin={handleLogin}/>\n        </Route>\n        <Route path='/sign-up'>\n          <Register onRegister={handleRegister} />\n        </Route>\n        <Route>\n          {loggedIn ? <Redirect to='/'/> : <Redirect to='sign-in'/>}\n        </Route>\n        </Switch>\n        <Footer />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen} \n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}/>\n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen} \n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}/>\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen} \n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}/>\n        <PopupWithForm \n          name='delete-post' \n          title='Вы уверены?' \n          isOpen={isDeletePostPopupOpen} \n          onClose={closeAllPopups}>\n        </PopupWithForm>             \n        <ImagePopup \n          card={selectedCard} \n          onClose={closeAllPopups}/>\n        <InfoTooltip \n          isOpen={isLoginStatusPopupOpen} \n          onClose={closeAllPopups}\n          isSuccess={isSuccessfulRegistration}/>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}